let fs,shell,DIRECTORIES;_3d7‍.x([["makeGulpfileJs",()=>makeGulpfileJs]]);_3d7‍.w("fs",[["default",["fs"],function(v){fs=v}]]);_3d7‍.w("shelljs",[["default",["shell"],function(v){shell=v}]]);_3d7‍.w("../main",[["DIRECTORIES",["DIRECTORIES"],function(v){DIRECTORIES=v}]]);





       const makeGulpfileJs = async options => {
    const gulpfile = `
/**********************************************************/
/* gulp task */
/**********************************************************/
/* File version              1.0                      */
/* Last modified            2019/11/21                   */
/* Last modified by          yohan                         */
/**********************************************************/

var gulp = require("gulp"),
  shell = require("shelljs"),
  watch = require("gulp-watch");

const baseDir = __dirname;

const rootFolder = baseDir + "/${options.presentation}";

//gulp로 shared파일 자동 생성
const presentations = [${ getPresentation(options)}];
gulp.task('deleteSharedFolder', function () {
	presentations.forEach(presentation => {
	  del("./Innoboost_CLM/"+presentation+"/shared")
	})
  });


gulp.task("watch", function() {
  watch("./shared/**/*", gulp.series("gen-shared", done => done()));
});

gulp.task("gen-shared", function(done) {
  shell.ls(rootFolder).forEach(presentation => {
    shell.cd(rootFolder);
    shell.cp("-Rf", baseDir + "/shared", presentation);
  });
});
gulp.task("default", gulp.series("gen-shared"));
`;
    _3d7‍.a("shell",shell).cd(_3d7‍.a("DIRECTORIES",DIRECTORIES).rootDir);
    _3d7‍.a("fs",fs).writeFileSync('gulpfile.js', gulpfile, 'utf8', err => _3d7‍.g.console.log(err))
};_3d7‍.j(["makeGulpfileJs"]);

const getPresentation = (options) => {
    let presentation = [];
    if (options.seperate) {
        presentation.push(`${options.presentation}_MAIN`)
        presentation.push(`${options.presentation}_ADD`)
    } else {
        presentation.push(`${options.presentation}`)
    }
    presentation = presentation.map(el => {
        el = `'${el}'`;
        return el
    });
    _3d7‍.g.console.log(presentation)
    return presentation;
}